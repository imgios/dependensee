<ion-header>
  <ion-toolbar>
    <ion-title>Visualize dependencies</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <p>Seems like you're brave enough to check the development status!</p>
    <p>First of all, upload a .txt file that contains a set of RFDs and insert the threshold:</p>

    <ion-grid>
      <ion-row>
        <ion-col size="8">
          <div>
            <ion-item>
              <ion-label position="stacked">File uploader:</ion-label>
              <ion-input type="file" accept=".txt, text/plain" (change)="setFile($event)"></ion-input>
            </ion-item>
          </div>
        </ion-col>
        <ion-col size="2">
          <div>
              <ion-item>
                <ion-label position="floating">Threshold:</ion-label>
                <ion-input type="number" min="0" value="0" [(ngModel)]="threshold"></ion-input>
              </ion-item>
          </div>
        </ion-col>
        <ion-col size="2">
          <div>
            <ion-button color="primary" expand="block" (click)="analyzeFile()">
              <ion-icon name="analytics"></ion-icon>
              Analyze
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <div>
            <ion-item>
              <ion-label position="stacked">Logs:</ion-label>
              <ion-textarea [(ngModel)]="fileLogs" rows="10" readonly></ion-textarea>
            </ion-item>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-grid>
      <ion-row *ngFor="let lhs of attributes">
        <ion-col *ngFor="let rhs of attributes">
          <div id="{{lhs + '>' + rhs}}">
            <span *ngIf="lhs != rhs">{{ lhs + '->' + rhs}}</span>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>